<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Поставщики</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .hidden {
            display: none;
        }
    </style>
</head>
<body class="bg-gray-100">
    <div class="container mx-auto p-4">
        <h1 class="text-2xl font-bold mb-4">Поставщики</h1>
        <ul>
            {% for supplier, files in suppliers.items() %}
            <li class="mb-2">
                <a href="#" onclick="toggleFiles('{{ supplier }}')" class="text-blue-500">{{ supplier }}</a>
                <ul id="{{ supplier }}-files" class="hidden ml-4">
                    {% for file in files %}
                    <li>
                        <a href="/download{{ file.unified_path }}" class="text-green-500">Скачать unified.xlsx ({{ file.date }})</a>
                    </li>
                    {% if file.report_path %}
                    <li>
                        <a href="/download{{ file.report_path }}" class="text-red-500">Скачать report.xlsx ({{ file.date }})</a>
                    </li>
                    {% endif %}
                    {% endfor %}
                </ul>
            </li>
            {% endfor %}
        </ul>
    </div>
    <script>
        function toggleFiles(supplier) {
            var filesList = document.getElementById(supplier + '-files');
            if (filesList.classList.contains('hidden')) {
                filesList.classList.remove('hidden');
            } else {
                filesList.classList.add('hidden');
            }
        }
    </script>
</body>
</html>